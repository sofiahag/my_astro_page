{
  "version": 3,
  "sources": ["../../reading-time/lib/reading-time.js", "browser-external:stream", "browser-external:util", "../../reading-time/lib/stream.js", "../../reading-time/index.js"],
  "sourcesContent": ["/*!\n * reading-time\n * Copyright (c) Nicolas Gryman <ngryman@gmail.com>\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * @typedef {import('reading-time').Options['wordBound']} WordBoundFunction\n */\n\n/**\n * @param {number} number\n * @param {number[][]} arrayOfRanges\n */\nfunction codeIsInRanges(number, arrayOfRanges) {\n  return arrayOfRanges.some(([lowerBound, upperBound]) =>\n    (lowerBound <= number) && (number <= upperBound)\n  )\n}\n\n/**\n * @type {WordBoundFunction}\n */\nfunction isCJK(c) {\n  if ('string' !== typeof c) {\n    return false\n  }\n  const charCode = c.charCodeAt(0)\n  // Help wanted!\n  // This should be good for most cases, but if you find it unsatisfactory\n  // (e.g. some other language where each character should be standalone words),\n  // contributions welcome!\n  return codeIsInRanges(\n    charCode,\n    [\n      // Hiragana (Katakana not included on purpose,\n      // context: https://github.com/ngryman/reading-time/pull/35#issuecomment-853364526)\n      // If you think Katakana should be included and have solid reasons, improvement is welcomed\n      [0x3040, 0x309f],\n      // CJK Unified ideographs\n      [0x4e00, 0x9fff],\n      // Hangul\n      [0xac00, 0xd7a3],\n      // CJK extensions\n      [0x20000, 0x2ebe0]\n    ]\n  )\n}\n\n/**\n * @type {WordBoundFunction}\n */\nfunction isAnsiWordBound(c) {\n  return ' \\n\\r\\t'.includes(c)\n}\n\n/**\n * @type {WordBoundFunction}\n */\nfunction isPunctuation(c) {\n  if ('string' !== typeof c) {\n    return false\n  }\n  const charCode = c.charCodeAt(0)\n  return codeIsInRanges(\n    charCode,\n    [\n      [0x21, 0x2f],\n      [0x3a, 0x40],\n      [0x5b, 0x60],\n      [0x7b, 0x7e],\n      // CJK Symbols and Punctuation\n      [0x3000, 0x303f],\n      // Full-width ASCII punctuation variants\n      [0xff00, 0xffef]\n    ]\n  )\n}\n\n/**\n * @type {import('reading-time').default}\n */\nfunction readingTime(text, options = {}) {\n  let words = 0, start = 0, end = text.length - 1\n\n  // use provided value if available\n  const wordsPerMinute = options.wordsPerMinute || 200\n\n  // use provided function if available\n  const isWordBound = options.wordBound || isAnsiWordBound\n\n  // fetch bounds\n  while (isWordBound(text[start])) start++\n  while (isWordBound(text[end])) end--\n\n  // Add a trailing word bound to make handling edges more convenient\n  const normalizedText = `${text}\\n`\n\n  // calculate the number of words\n  for (let i = start; i <= end; i++) {\n    // A CJK character is a always word;\n    // A non-word bound followed by a word bound / CJK is the end of a word.\n    if (\n      isCJK(normalizedText[i]) ||\n      (!isWordBound(normalizedText[i]) &&\n        (isWordBound(normalizedText[i + 1]) || isCJK(normalizedText[i + 1]))\n      )\n    ) {\n      words++\n    }\n    // In case of CJK followed by punctuations, those characters have to be eaten as well\n    if (isCJK(normalizedText[i])) {\n      while (\n        i <= end &&\n        (isPunctuation(normalizedText[i + 1]) || isWordBound(normalizedText[i + 1]))\n      ) {\n        i++\n      }\n    }\n  }\n\n  // reading time stats\n  const minutes = words / wordsPerMinute\n  // Math.round used to resolve floating point funkyness\n  //   http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\n  const time = Math.round(minutes * 60 * 1000)\n  const displayed = Math.ceil(minutes.toFixed(2))\n\n  return {\n    text: displayed + ' min read',\n    minutes: minutes,\n    time: time,\n    words: words\n  }\n}\n\n/**\n * Export\n */\nmodule.exports = readingTime\n", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"stream\" has been externalized for browser compatibility. Cannot access \"stream.${key}\" in client code. See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "module.exports = Object.create(new Proxy({}, {\n  get(_, key) {\n    if (\n      key !== '__esModule' &&\n      key !== '__proto__' &&\n      key !== 'constructor' &&\n      key !== 'splice'\n    ) {\n      console.warn(`Module \"util\" has been externalized for browser compatibility. Cannot access \"util.${key}\" in client code. See http://vitejs.dev/guide/troubleshooting.html#module-externalized-for-browser-compatibility for more details.`)\n    }\n  }\n}))", "/*!\n * reading-time\n * Copyright (c) Nicolas Gryman <ngryman@gmail.com>\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n */\nconst readingTime = require('./reading-time')\nconst Transform = require('stream').Transform\nconst util = require('util')\n\n/**\n * @typedef {import('reading-time').Options} Options\n * @typedef {import('reading-time').Options['wordBound']} WordBoundFunction\n * @typedef {import('reading-time').readingTimeStream} ReadingTimeStream\n * @typedef {import('stream').TransformCallback} TransformCallback\n */\n\n/**\n * @param {Options} options\n * @returns {ReadingTimeStream}\n */\nfunction ReadingTimeStream(options) {\n  // allow use without new\n  if (!(this instanceof ReadingTimeStream)) {\n    return new ReadingTimeStream(options)\n  }\n\n  Transform.call(this, { objectMode: true })\n\n  this.options = options || {}\n  this.stats = {\n    minutes: 0,\n    time: 0,\n    words: 0\n  }\n}\nutil.inherits(ReadingTimeStream, Transform)\n\n/**\n * @param {Buffer} chunk\n * @param {BufferEncoding} encoding\n * @param {TransformCallback} callback\n */\nReadingTimeStream.prototype._transform = function(chunk, encoding, callback) {\n  const stats = readingTime(chunk.toString(encoding), this.options)\n\n  this.stats.minutes += stats.minutes\n  this.stats.time += stats.time\n  this.stats.words += stats.words\n\n  callback()\n}\n\n/**\n * @param {TransformCallback} callback\n */\nReadingTimeStream.prototype._flush = function(callback) {\n  this.stats.text = Math.ceil(this.stats.minutes.toFixed(2)) + ' min read'\n\n  this.push(this.stats)\n  callback()\n}\n\n/**\n * Export\n */\nmodule.exports = ReadingTimeStream\n", "module.exports.default = module.exports = require('./lib/reading-time')\nmodule.exports.readingTimeStream = require('./lib/stream')\n"],
  "mappings": "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",
  "names": ["require_stream", "require_reading_time"]
}
